# TaskSync Project Overview

## Опис проекту
**TaskSync** — це система управління завданнями для кількох користувачів, побудована на основі мікросервісної архітектури. Проєкт дозволяє користувачам спільно працювати над завданнями в межах кімнат, використовуючи систему ролей та прав доступу.

### Основні компоненти:
- **User Service**: Доступний функціонал управління користувачами
- **Task Service**: Відповідає за створення, редагування, перегляд і видалення завдань.
- **Room Service**: Забезпечує створення та управління кімнатами для спільної роботи над завданнями.
- **Key Service**: Використовується для передачі зовнішніх ключів між базами даних і сервісами.
- **API Gateway**: Забезпечує єдину точку доступу до всіх мікросервісів, полегшуючи комунікацію між ними.

### Клієнтська частина:
- **Тестовий клієнт**: Мінімалістичний клієнт для тестування серверних запитів. Написаний на **C#** з використанням **WPF**. Він дозволяє виконувати HTTP-запити до сервера, вибираючи методи та вводячи JSON для запитів.

## Технології
- **Flask**: Використовується для побудови API у кожному мікросервісі.
- **PostgreSQL**: Реляційна база даних для зберігання інформації про користувачів, завдання, кімнати та зовнішні ключі.
- **Docker**: Усі сервіси контейнеризовані для спрощення розгортання та ізоляції середовищ.
- **HTTP (синхронна взаємодія)**: Сервіси спілкуються через HTTP-запити для виконання операцій.

## Архітектура мікросервісів
Проєкт побудований на основі декількох окремих мікросервісів:
- **User Service**: Управління користувачами (функціонал реєстрації та авторизації поки не готовий).
- **Task Service**: Операції з завданнями.
- **Room Service**: Створення кімнат і додавання користувачів.
- **Key Service**: Інтеграція з зовнішніми ключами.

Між мікросервісами використовується синхронна взаємодія через HTTP. Всі запити керуються через **API Gateway**, що забезпечує єдиний інтерфейс для фронтенд-клієнтів.

## Деплоймент

### 1. **Локальний запуск сервісів**
Для кожного мікросервісу потрібно налаштувати середовище розробки. Ось основні кроки для запуску проекту локально:

#### Кроки для запуску:
1. **Встановіть залежності**:
   Кожен мікросервіс має свій файл `requirements.txt`. Для встановлення залежностей запустіть:
   ```
   pip install -r requirements.txt
   ```

2. **Налаштуйте базу даних**:
   Кожен мікросервіс підключається до власної бази даних PostgreSQL. Налаштування бази даних здійснюється через конфігураційні файли або змінні середовища.
   - Створіть бази даних для кожного сервісу.
   - Пропишіть підключення до них у відповідних `.env` файлах.

3. **Запуск мікросервісів**:
   Після встановлення залежностей і налаштування баз даних, запустіть кожен сервіс за допомогою команди:
   ```bash
   flask run
   ```

4. **API Gateway**:
   Запустіть API Gateway, який забезпечує доступ до всіх сервісів через один ендпоїнт.

### 2. **Запуск через Docker (рекомендовано)**
Проєкт контейнеризований за допомогою Docker, тому для спрощення деплойменту можна використовувати Docker Compose для підняття всіх мікросервісів і баз даних одночасно.

#### Кроки для запуску в Docker:

1. **Складіть Docker образи для кожного сервісу**:
   У кожному сервісі є Dockerfile. Для створення образів виконайте:
   ```
   docker compose build.
   ```

2. **Запуск через Docker Compose**:
   У кореневій папці проекту є `docker-compose.yml`, що містить всі необхідні сервіси та бази даних. Для запуску проекту через Docker Compose використовуйте:
   ```
   docker-compose up
   ```

   Це автоматично запустить всі мікросервіси та необхідні бази даних у контейнерах.

3. **Перевірка роботи**:
   Після успішного запуску всі сервіси будуть доступні через API Gateway. Щоб перевірити, чи працює проект, можна відправити тестовий запит до API Gateway.

### 3. **Налаштування середовища**
Залежно від середовища (розробка, тестування або продакшн), вам можуть знадобитися різні файли конфігурації:
- `.env`: Файл для конфігурацій змінних середовища, таких як підключення до баз даних, секрети для JWT (коли буде реалізовано) і конфігурація Flask.

### 4. **База даних**:
   Проект використовує PostgreSQL. Міграції бази даних можна виконати через відповідні скрипти міграцій (якщо міграції налаштовані), або через створення таблиць при запуску сервісів.

## Важлива примітка:
На даний момент **реєстрація** та **авторизація користувачів** ще знаходяться на стадії розробки. Це також стосується функціоналу для роботи з **JWT токенами**. У майбутніх оновленнях буде додано підтримку цих функцій, що дозволить користувачам взаємодіяти тільки зі своїми акаунтами та кімнатами.